!function(e,t){var n=t(e);"function"==typeof define&&define.amd?define(function(){return n}):"object"==typeof module&&module.exports?module.exports=n:e.Gauge=n}("undefined"==typeof window?this:window,function(e,t){function n(e){function t(){var e=a/i,n=s*d(e)+o;l(n,a),a+=1,e<1&&r(t)}var n=e.duration,a=1,i=60*n,o=e.start||0,u=e.end,s=u-o,l=e.step,d=e.easing||function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)};r(t)}var a=e.document,r=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)},i=function(){function e(e){var t={};for(key in c)e.hasOwnProperty(key)?t[key]=e[key]:t[key]=c[key];return t}function t(e,t,n){var r=a.createElementNS(d,e);for(var i in t)r.setAttribute(i,t[i]);return n&&n.forEach(function(e){r.appendChild(e)}),r}function r(e,t){return e*t/100}function i(e,t){var n=Number(e);return n>t?t:n<0?0:n}function o(e,t){return 100*e/t}function u(e,t,n,a){var r=a*Math.PI/180;return{x:Math.round(1e3*(e+n*Math.cos(r)))/1e3,y:Math.round(1e3*(t+n*Math.sin(r)))/1e3}}function s(e,t,n){var a=f.centerX,r=f.centerY;return{end:u(a,r,e,n),start:u(a,r,e,t)}}function l(e){return Math.round(e)}var d="http://www.w3.org/2000/svg",f={centerX:500,centerY:500},c={dialRadius:400,dialStartAngle:135,dialEndAngle:45,value:0,max:100,valueDialClass:"value",valueClass:"value-text",dialClass:"dial",gaugeClass:"gauge",showValue:!0,dialColor:null};return function(a,u){function d(e,t,n,a){var r=s(e,t,n),i=r.start,o=r.end,u="undefined"==typeof a?1:a;return["M",i.x,i.y,"A",e,e,"0",u,"1",o.x,o.y].join(" ")}function f(e){v=t("text",{x:500,y:500,fill:"#999","class":b,"font-size":"700%","font-family":"sans-serif","font-weight":"normal","text-anchor":"middle"}),h=t("path",{"class":M,fill:"transparent",stroke:"#666","stroke-width":25,d:d(k,C,C)});var n=r(100,360-Math.abs(C-A)),a=n<=180?0:1,i=t("svg",{viewBox:"0 0 1000 1000","class":V},[t("path",{"class":R,fill:"transparent",stroke:"#eee","stroke-width":20,d:d(k,C,A,a)}),v,h]);e.appendChild(i)}function c(e,t){var n=o(e,w),a=r(n,360-Math.abs(C-A)),i=a<=180?0:1;x&&(v.textContent=m.call(u,e,q)),h.setAttribute("d",d(k,C,a+C,i))}u=e(u||{});var v,h,m,p,g=a,w=u.max,y=i(u.value,w),k=u.dialRadius,x=u.showValue,C=u.dialStartAngle,A=u.dialEndAngle,M=u.valueDialClass,b=u.valueClass,R=(u.valueLabelClass,u.dialClass),V=u.gaugeClass,S=u.dialColor,q=u.label;if(m="function"==typeof q?q:l,C<A){console.log("WARNING! Start angle should be greater than end angle. Swapping");var E=C;C=A,A=E}return p={setMaxValue:function(e){w=e},setValue:function(e){y=i(e,w),c(y)},setValueAnimated:function(e,t){var a=y;if(y=i(e,w),a!==y){if(S){var r="stroke "+1e3*t+"ms ease";h.style=["stroke: "+S(y),"-webkit-transition: "+r,"-moz-transition: "+r,"transition: "+r].join(";")}n({start:a||0,end:y,duration:t||1,step:function(e,t){c(Math.round(100*e)/100,t)}})}},getValue:function(){return y}},f(g),c(y),p}}();return i});